---
title: "Reporte"
author: "Erik Mejia Hernandez -Santiago García Cabral"
date: "16 de febrero de 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
## Leer Datos
Conocer ubicación de directorio
```{r}
getwd()
```


Mostrar contenido del directorio actual
```{r}
list.files()
```

Cargar datos de archivo en una variable
```{r}
train <- read.csv("train.csv", stringsAsFactors = FALSE)
```



Para comprobar que el archivo se bajó
```{r}
head(train)
```

para ver la estructura del dataset
```{r}
str(train)
```



## Describe the data domain
```{r}
str(train)
```


## Describe each of the variables
Sobrevivientes 
```{r}
train$Survived <- as.factor(train$Survived)
table(train$Survived)
```

Clase
```{r}
table(train$Pclass)
```

Nombre 
```{r}
length(train$Name)

```


Sex 
```{r}
train$Sex <- as.factor(train$Sex)
table(train$Sex)
table(train$Sex, train$Survived)
```

SibSp  "Número de hermanos / cónyuges en el extranjero"
```{r}
train$SibSp <- as.factor(train$SibSp)
table(train$SibSp)
```

Parch  "Parche Número de Padres / Niños a bordo"
```{r}
train$Parch <- as.factor(train$Parch)
table(train$Parch)
```


Ticket 
```{r}
length(unique(train$Ticket))
```

Fare 
```{r}

```

Cabin 
```{r}

```

Embarked (C = Cherbourg; Q = Queenstown; S = Southampton)
```{r}
train$Embarked <- as.factor(train$Embarked)
table(train$Embarked)
```





## Basic summary statistics.
Sobrevivientes 
```{r}
summary(train$Survived)
```

Clase
```{r}
summary(train$Pclass)
```

Nombre 
```{r}
summary(train$Name)
```


Sex 
```{r}
summary(train$Sex)
```

SibSp  "Número de hermanos / cónyuges en el extranjero"
```{r}
summary(train$SibSp)
```

Parch  "Parche Número de Padres / Niños a bordo"
```{r}
summary(train$Parch)
```


Ticket 
Había algunos grandes grupos de viajes donde al menos 6 pasajeros comparten el mismo billete de embarque. Entre los 930 boletos de embarque, 12 boletos tenían al menos 6 pasajeros compartiendo el mismo boleto, con los nombres de los 86 pasajeros mostrados abajo.
```{r}
shareTix <- train[train$Ticket %in% names(table(train$Ticket))[table(train$Ticket) > 5],]
shareTix[order(shareTix$Ticket),]$Name
```

Fare 
```{r}
sum(train$Fare !="")
```

Cabin 
```{r}
sum(train$Cabin != "")
```

Embarked 
```{r}

```

## Boxplots. Interpretation.
Edades de pasajeros (Años)
```{r}
boxplot(train$Age, xlab="Edades de pasajeros (Años)")
```



## Skew of the data. Interpretation.

## Histogramas.
Histograma de la edad.

Al revisar este histograma, lo que nos indica es que mas del 60% de las personas tenían menos de 40 años, así como, la mayor cantidad de personas tenían entre 20 a 30 años de edad respecto a las otras columnas.
```{r, echo=FALSE}
hist(na.omit(train$Age),
     main = "Histograma de las edades de los pasajeros",
     xlab = "Edad",
     ylab = "Personas",
     labels = TRUE)

```

## Cuartiles.
Cuartiles y rango intercuartil de la edad.

Se puede denotar aquí que el 50 % de las personas está entre los 20 años y los 38, es donde esta la mayor concentración de las personas que iban en el Titanic.Además, la persona con menos edad era un bebé de aproximadamente 5 meses, y la persona con más edad era una persona de 80 años
```{r, echo=FALSE}
summary(na.omit(train$Age))
IQR(na.omit(train$Age))
```
Cuartiles y rango intercuartil de la tarifa.

Se puede denotar aquí que el 50 % de las personas pagaron una tarifa entre 7.91 y 31.00 en la moneda que se haya pagado. Además, existieron personas que no pagaron ni un solo centavo, se subieron gratis, y otra persona que pagó 512.30 que fue la que dió más.
```{r, echo=FALSE}
summary(na.omit(train$Fare))
IQR(na.omit(train$Fare))
```

## Correlación
Correlación entre la edad y la tarifa.

Al observar esta correlación entre estos dos datos, se puede observar que tienen una ligera correlación, por lo que al aumentar una, ligeramente aumentará la otra
```{r, echo=FALSE}

b0 = "$\\beta_0$"

cor(train$Age,train$Fare, use="complete.obs")

```
Let's see if it works: `r b0`.

## Gráficos de dispersión.
La Gráfica de dispersión de la edad con respecto a la Tarifa.

Como se puede apreciar en la correlación que tienen estás dos variables, tienen una relación positiva muy baja, por lo que nos indica que si la edad aumenta, la tarifa aumenta relativamente poco.
```{r, echo=FALSE}
Fare = train$Fare
Age = train$Age
plot(Fare ~ Age, data=train, xlab = "Edad", ylab = "Tarifa")
abline(lm(Fare ~ Age, data=train))
```


## Gráficos Aparte.
Representación de la clase con respecto a los sobrevivientes/muertos de cada una.

En la gráfica se puede observar que la mayor cantidad de personas que se salvaron fueron los de la clase 1, que casi se salvaron alrededor de 3/5, por lo que si eras de la clase 1 tenías muchas más probabilidades de salvarte.

Por el lado contrario, los que más se murieron fueron los de la clase 3, muriendo casi el 80 %, lo que quiere decir que si eras de clase 3 tenías pocas probabilidades de sobrevivir.

La clase 2 en su defecto fue la más balaceada, casi sobrevivieron la misma cantidad que murieron.
```{r, echo=FALSE}
pclassFac <- as.factor(train$Pclass)
surviFac <- factor(train$Survived, levels=c(0,1), labels=c('MURIO', 'SOBREVIVIO'))
plot(pclassFac,surviFac, xlab = "Clase", ylab ="Supervivencia")
```

Representación de el sexo con respecto a los sobrevivientes.

Lo que se puede observar en la gráfica, es que la mayoría de los hombres se sacrificaron para salvar a casi el 80 % de las mujeres, gracias a tener una postura machista, esto sucedió.
```{r, echo=FALSE}
sexFac <- factor(train$Sex, labels=c('MUJER', 'HOMBRE'))
surviFac <- factor(train$Survived, levels=c(0,1), labels=c('MURIO', 'SOBREVIVIO'))
plot(sexFac,surviFac, xlab = "Sexo", ylab ="Supervivencia")
```

Representación de los sobrevivientes con respecto a la embarcación  que subieron abordo del barco.

Al observar la gráfica la mayor parte de los que se subieron en la embarcación de Cherbourg sobrevivieron, por que se tenía más probabilidad de sobrevivir, aunque la mayoría de las personas se subieron en la embarcación de Southampton, fueron menos personas las que sobrevivieron con respecto al porcentaje original de las personas que se subieron en esa embarcación, por lo que si te subiste en esta embarcación, quizás tenías menos probabilidad de sobrevivir.
```{r, echo=FALSE}
table(train$Embarked)
embFac <- factor(train$Embarked)
surviFac <- factor(train$Survived, levels=c(0,1), labels=c('MURIO', 'SOBREVIVIO'))
plot(embFac,surviFac, xlab = "Embarcación", ylab ="Supervivencia")
```